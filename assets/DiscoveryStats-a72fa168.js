import{d as $,c as r,o as P,a as y,b,_ as A,F as R,r as z,t as n,n as B,u as O,s as j,e as x,O as C,f as w,A as U,P as V,g as N,h as v,i as k,j as m,k as L,p as E,l as F,m as G,q}from"./index-c5c40903.js";const I=$({__name:"DataTable",props:{headers:{},sorting:{},data:{}},setup(e){const a=e,t=r((()=>(a.headers.normal??[]).concat(a.headers.sortable??[]).length));return(e,a)=>(P(),y("div",{class:"stat-grid",style:B({"grid-template-columns":`repeat(${t.value}, auto)`})},[b(A,{headers:e.headers,sorting:e.sorting},null,8,["headers","sorting"]),(P(!0),y(R,null,z(e.data,(e=>(P(),y("div",null,n(e),1)))),256))],4))}}),M={key:0,open:""},X=v("summary",null,"Discoverer Stats",-1),H=$({__name:"DiscovererStats",setup(e){const a=O(),{filteredData:t,dataLength:s,amountTagged:l,itemsPerPage:n,currentPageIndex:o}=j(a),d=x({col:2,order:C.desc}),v=r((()=>{var e;const a={};for(const r of t.value){if(!r.Discoverer)continue;const t=a[e=r.Discoverer]??(a[e]={platform:"",discoveries:0,discPercent:"0%",tagged:0,taggedPercent:"0%",taggedPercentSelf:"0%"});t.discoveries++,r["Correctly Tagged"]&&t.tagged++,t.platform=k[r.Platform],t.discPercent=m(t.discoveries,s.value)+"%",t.taggedPercent=m(t.tagged,l.value)+"%",t.taggedPercentSelf=m(t.tagged,t.discoveries)+"%"}const r=[];for(const[e,t]of Object.entries(a))r.push([e,...Object.values(t)]);return r})),i=r((()=>L(v.value,d))),c=r((()=>{const e=E(i.value,n.value.discovererStats);return e.length<o.value.discovererStats&&(o.value.discovererStats=0),e})),u=r((()=>{var e;return(null==(e=c.value[o.value.discovererStats])?void 0:e.flat())??[]})),g={normal:["Pos."],sortable:["Name","Platform","Discoveries","Discoveries %","Tagged","Tagged %\nof total","Tag Rate"]};return(e,a)=>u.value.length?(P(),y("details",M,[X,b(V,{"total-pages":c.value.length,section:w(U).discovererStats},null,8,["total-pages","section"]),b(I,{headers:g,sorting:d,data:u.value},null,8,["sorting","data"])])):N("",!0)}}),J={key:0,open:""},K=v("summary",null,"Platform Stats",-1),Q=$({__name:"PlatformStats",setup(e){const a=O(),{filteredData:t,dataLength:s,amountTagged:l}=j(a),n=x({col:2,order:C.desc}),o=r((()=>{const e={Steam:new Set,PlayStation:new Set,Xbox:new Set,GOG:new Set,"Nintendo Switch":new Set},a={};for(const r of t.value){if(!r.Platform)continue;const t=k[r.Platform],n=a[t]??(a[t]={players:0,discoveries:0,discPercent:"0%",tagged:0,taggedPercent:"0%",taggedPercentSelf:"0%"});n.discoveries++,r["Correctly Tagged"]&&n.tagged++,e[t].add(r.Discoverer),n.players=e[t].size,n.discPercent=m(n.discoveries,s.value)+"%",n.taggedPercent=m(n.tagged,l.value)+"%",n.taggedPercentSelf=m(n.tagged,n.discoveries)+"%"}const r=[];for(const[e,t]of Object.entries(a))r.push([e,...Object.values(t)]);return r})),d=r((()=>L(o.value,n).flat())),v={normal:["Pos."],sortable:["Platform","Players","Discoveries","Discoveries %","Tagged","Tagged %\nof total","Tag Rate"]};return(e,a)=>d.value.length?(P(),y("details",J,[K,b(I,{headers:v,sorting:n,data:d.value},null,8,["sorting","data"])])):N("",!0)}}),W=e=>(F("data-v-eeba8fee"),e=e(),G(),e),Y={open:""},Z=W((()=>v("summary",null,"Number Stats",-1))),ee={class:"number-stats-wrapper"},te={key:0},ae=$({__name:"NumberStats",setup(e){const a=O(),{filteredData:t,amountTagged:s,dataLength:l,dateRange:o}=j(a),d=r((()=>m(s.value,l.value))),i=r((()=>t.value.filter((e=>!e["Correctly Tagged"]&&e.Name)).length)),c=r((()=>m(i.value,l.value))),u=r((()=>t.value.filter((e=>!e.Name&&e.Discoverer)).length)),g=r((()=>m(u.value,l.value))),f=r((()=>t.value.filter((e=>!e.Name&&!e.Discoverer)).length)),p=r((()=>m(f.value,l.value))),S=r((()=>new Set(t.value.map((e=>e.Discoverer))).size));r((()=>{var e;const a={};for(const r of t.value)r.Name&&(a[e=r.Name]??(a[e]=0),a[r.Name]++);return Object.entries(a).filter((e=>e[1]>1))}));const b=e=>new Date(e).toLocaleDateString();return(e,a)=>(P(),y("details",Y,[Z,v("div",ee,[v("div",null,"Tagged: "+n(w(s))+" ("+n(d.value)+"%)",1),v("div",null,"Not/incorrectly tagged: "+n(i.value)+" ("+n(c.value)+"%)",1),v("div",null,"Procedural name: "+n(u.value)+" ("+n(g.value)+"%)",1),f.value?(P(),y("div",te,"Undiscovered: "+n(f.value)+" ("+n(p.value)+"%)",1)):N("",!0),v("div",null,"Number of discoverers: "+n(S.value),1),v("div",null,"Earliest Discovery: "+n(b(w(o)[0])),1),v("div",null,"Latest Discovery: "+n(b(w(o)[1])),1),N("",!0),N("",!0)])]))}}),se=q(ae,[["__scopeId","data-v-eeba8fee"]]),re={key:0,class:"stats-wrapper"},ne=$({__name:"DiscoveryStats",setup(e){const a=O(),{filteredData:t}=j(a);return(e,a)=>w(t).length?(P(),y("div",re,[b(se),b(H),b(Q)])):N("",!0)}});export{ne as default};
